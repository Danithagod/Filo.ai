### DocumentEmbedding model - stores vector embeddings separately for flexibility
class: DocumentEmbedding
table: document_embedding
fields:
  ### Reference to the file_index record
  fileIndexId: int
  ### Chunk index (0 for single-chunk docs, 1+ for multi-chunk)
  chunkIndex: int
  ### The text chunk that was embedded
  chunkText: String?
  ### JSON encoded embedding vector (will use pgvector in Supabase)
  embeddingJson: String
  ### Embedding dimensions (e.g., 768, 1536)
  dimensions: int
indexes:
  document_embedding_file_index:
    fields: fileIndexId
  document_embedding_file_chunk:
    fields: fileIndexId, chunkIndex
    unique: true
